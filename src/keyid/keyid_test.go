package keyid

import (
	"fmt"
	"testing"
)

func TestToBase58Address(t *testing.T) {
	keyID := new(KeyID)
	_ = keyID.SetKeyIDData([]byte{0xe4, 0x26, 0xe1, 0xe6, 0x44, 0x7a, 0x59, 0x04, 0x10, 0xdf,
		0x6b, 0x15, 0x25, 0xe9, 0xcb, 0x2c, 0xed, 0x0b, 0xb3, 0x8b})
	addrStr, _ := keyID.ToBase58Address(0)
	fmt.Println("base58 address:", addrStr)
}

func TestToBech32AddressP2WPKH(t *testing.T) {
	keyID := new(KeyID)
	_ = keyID.SetKeyIDData([]byte{0xed, 0xec, 0x29, 0xb6, 0x22, 0x58, 0x5a, 0xcb, 0xc8, 0x2c,
		0x91, 0x47, 0x10, 0x07, 0x08, 0x31, 0xbf, 0xb2, 0xb6, 0x48})
	addrStr, _ := keyID.ToBech32AddressP2WPKH("bc")
	fmt.Println("bech32 address:", addrStr)
}

func TestToBech32AddressP2WSH(t *testing.T) {
	p2wshBytes := []byte{0x21, 0x22, 0xf4, 0x71, 0x9a, 0xdd, 0x32, 0x2f, 0x4d, 0x72, 0x7f, 0x48, 0x37, 0x9f,
		0x8a, 0x8b, 0xa3, 0x6a, 0x40, 0xec, 0x44, 0x73, 0xfd, 0x99, 0xa2, 0xfd, 0xcf, 0xd8, 0x9a, 0x16, 0xe0, 0x48}
	addrStr, _ := ToBech32AddressP2WSH("bc", p2wshBytes)
	fmt.Println("bech32 address:", addrStr)
}
